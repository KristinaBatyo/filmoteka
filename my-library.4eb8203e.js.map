{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aAGMC,EAAWC,SAASC,cAAc,iBAClCC,EAAWF,SAASC,cAAc,UAClCE,EAAaH,SAASC,cAAc,YAYnC,SAASG,EAAgBC,GAC5B,IAAIC,EAAoBC,KAAKC,MAAMC,aAAaC,QAAQL,IAAeM,OAEvE,GADAC,QAAQC,IAAIP,KACRA,GAAqB,IAAzB,CACA,IAAMQ,EAAa,IAAIC,EAAAlB,GAAJ,CACfG,SAASgB,eAAe,cACxB,CACEC,WAAYX,EACZY,aAAc,GACdC,aAAc,EACdC,aAAa,IAIjBN,EAAWO,GAAG,aAAa,SAAUC,IAO3C,SAAsBC,EAAMlB,GACxB,IAAMmB,EAAOjB,KAAKC,MAAMC,aAAaC,QAAQL,IAAeoB,MAAW,GAALF,EAAQ,GAAS,GAALA,GAC9ExB,EAAS2B,UAAY,GACrB3B,EAAS4B,mBAAmB,YAGhC,SAA6BH,GACzB,OAAOA,EACJI,KAAI,SAAAC,G,IAAGC,EAAED,EAAFC,GAAIC,EAAWF,EAAXE,YAAaC,EAAKH,EAALG,MAAOC,EAAMJ,EAANI,OAAQC,EAAYL,EAAZK,aAAcC,EAAYN,EAAZM,aACpD,MAAO,4CAG6BC,OAHeN,EAAG,wFAIjDM,OAD+BL,EAAY,kBAOhDK,OANKJ,EAAM,mNAUXI,OAJAJ,EAAM,uDAYFI,OARJH,EAAOtB,OAAS,EACZsB,EACGR,MAAM,EAAG,GACTW,OAAO,CAAC,CAAEC,KAAM,WAChBT,KAAI,SAAAU,G,OAASA,EAAMD,I,IACnBE,KAAK,MACRN,EAAOL,KAAI,SAAAU,G,OAASA,EAAMD,I,IAAME,KAAK,MAC1C,gBAEuBH,OADlBF,EAAaT,MAAM,EAAG,GAAG,kCACiBW,OAAxBD,EAAaK,QAAQ,GAAG,6C,IAK/CD,KAAK,G,CAlCiCE,CAAoBjB,G,CATzDkB,CAAYpB,EAAUC,KAAMlB,IAC5B,EAAAsC,EAAAC,oBACAnC,aAAaoC,QAAQ,eAAgB/B,EAAWgC,iB,GAdvB,C,CAdjC5C,EAAS6C,iBAAiB,SAG1B,WACI3C,EAAgB,Q,IAHpBD,EAAW4C,iBAAiB,SAM5B,WACI3C,EAAgB,U,0BCVpB,IAAM4C,EAAWhD,SAASC,cAAc,UAClCgD,EAAajD,SAASC,cAAc,YAE1C+C,EAASE,UAAUC,IAAI,iBAEvBF,EAAWF,iBAAiB,SAG5B,WACIE,EAAWC,UAAUC,IAAI,iBACzBH,EAASE,UAAUE,OAAO,gB,IAJ9BJ,EAASD,iBAAiB,SAO1B,WACIC,EAASE,UAAUC,IAAI,iBACvBF,EAAWC,UAAUE,OAAO,gB,IAGhChD,EAAgB,Q","sources":["src/js/my-library-pagination.js","src/init-my-library.js"],"sourcesContent":["import Pagination from 'tui-pagination';\nimport { toggleLightTheme } from './day-night-theme';\n\nconst divQueue = document.querySelector('.movies__list');\nconst btnQueue = document.querySelector('.queue');\nconst btnWatched = document.querySelector('.watched');\nbtnQueue.addEventListener('click', onbtnQueue);\nbtnWatched.addEventListener('click', onbtnWatched);\n\nfunction onbtnQueue () {\n    myLibPagination('Queue');\n}\n\nfunction onbtnWatched () {\n    myLibPagination('Watched');\n}\n\nexport function myLibPagination(localStorKey) {\n    let queueTotalResults = JSON.parse(localStorage.getItem(localStorKey)).length;\n    console.log(queueTotalResults);\n    if (queueTotalResults <= 18) return;\n    const pagination = new Pagination(\n        document.getElementById('pagination'),\n        {\n          totalItems: queueTotalResults,\n          itemsPerPage: 18,\n          visiblePages: 5,\n          centerAlign: true,\n        }\n      );\n\n      pagination.on('afterMove', function (eventData) {\n        myLibRender(eventData.page, localStorKey);\n        toggleLightTheme();\n        localStorage.setItem('current_page', pagination.getCurrentPage());\n      });\n}\n\nfunction myLibRender (page, localStorKey) {\n    const data = JSON.parse(localStorage.getItem(localStorKey)).slice(page*18-18, page*18);\n    divQueue.innerHTML = '';\n    divQueue.insertAdjacentHTML('beforeend', renderMarkupStorage(data));\n}\n\nfunction renderMarkupStorage(data) {\n    return data\n      .map(({ id, poster_path, title, genres, release_date, vote_average }) => {\n        return `<div class='movie-card js-item' data-id='${id}'>\n    <img\n      class='movie-poster'\n      src='https://image.tmdb.org/t/p/w500${poster_path}'\n      alt='${title}'\n      onerror=\"this.onerror=null;this.src='https://sd.keepcalms.com/i-w600/keep-calm-poster-not-found.jpg';\"\n      loading='lazy'\n    />\n    <div class='info'>\n      <h2 class='movie-title'>\n      ${title}\n      </h2>\n      <p class='movie-info'>\n      ${\n        genres.length > 3\n          ? genres\n              .slice(0, 2)\n              .concat([{ name: 'Other' }])\n              .map(genre => genre.name)\n              .join(', ')\n          : genres.map(genre => genre.name).join(', ')\n      }\n        | ${release_date.slice(0, 4)}\n        <span class='vote'> ${vote_average.toFixed(1)} </span>\n      </p>\n    </div>\n  </div>`;\n      })\n      .join('');\n  }","import { myLibPagination } from './js/my-library-pagination';\nimport './js/modal-film';\nimport './js/day-night-theme';\n\nconst btnQueue = document.querySelector('.queue');\nconst btnWatched = document.querySelector('.watched');\n\nbtnQueue.classList.add('btn-is-active');\n\nbtnWatched.addEventListener('click', onbtnWatchedClick)\nbtnQueue.addEventListener('click', onbtnQueueClick)\n\nfunction onbtnWatchedClick () {\n    btnWatched.classList.add('btn-is-active');\n    btnQueue.classList.remove('btn-is-active');\n  }\n\nfunction onbtnQueueClick () {\n    btnQueue.classList.add('btn-is-active');\n    btnWatched.classList.remove('btn-is-active');\n  }\n\nmyLibPagination('Queue');"],"names":["$1VFfL","parcelRequire","$29bad995f47bc442$var$divQueue","document","querySelector","$29bad995f47bc442$var$btnQueue","$29bad995f47bc442$var$btnWatched","$29bad995f47bc442$export$427396420f21f8a5","localStorKey","queueTotalResults","JSON","parse","localStorage","getItem","length","console","log","pagination","$parcel$interopDefault","getElementById","totalItems","itemsPerPage","visiblePages","centerAlign","on","eventData","page","data","slice","innerHTML","insertAdjacentHTML","map","param","id","poster_path","title","genres","release_date","vote_average","concat","name","genre","join","toFixed","$29bad995f47bc442$var$renderMarkupStorage","$29bad995f47bc442$var$myLibRender","$2XwUb","toggleLightTheme","setItem","getCurrentPage","addEventListener","$08d0468c05d63a8a$var$btnQueue","$08d0468c05d63a8a$var$btnWatched","classList","add","remove"],"version":3,"file":"my-library.4eb8203e.js.map"}