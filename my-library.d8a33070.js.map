{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,aAGA,MAAMC,EAAWC,SAASC,cAAc,iBAIjC,SAASC,EAAgBC,GAC9B,IAAKC,KAAKC,MAAMC,aAAaC,QAAQJ,IAAgB,OACrD,IAAIK,EAAoBJ,KAAKC,MAAMC,aAAaC,QAAQJ,IAAeM,OACvE,MAAMC,EAAa,IAAIC,EAAAd,GAAJ,CAAeG,SAASY,eAAe,cAAe,CACvEC,WAAYL,EACZM,aAAc,GACdC,aAAc,EACdC,aAAa,IAGf,GAAIR,GAAqB,GAAI,OAAOE,EAAWO,IAE/CP,EAAWQ,GAAG,aAAa,SAAUC,GACnCC,EAAYD,EAAUE,KAAMlB,GAC5BG,aAAagB,QAAQ,eAAgBZ,EAAWa,iB,IAI7C,SAASH,EAAYC,EAAMlB,GAChC,MAAMqB,EAAOpB,KAAKC,MAAMC,aAAaC,QAAQJ,IAAesB,MACnD,GAAPJ,EAAY,GACL,GAAPA,GAEFtB,EAAS2B,UAAY,GACrB3B,EAAS4B,mBAAmB,YAG9B,SAA6BH,GAC3B,OAAOA,EACJI,KAAI,EAACC,GAAEA,EAAEC,YAAEA,EAAWC,MAAEA,EAAKC,OAAEA,EAAMC,aAAEA,EAAYC,aAAEA,KAC7C,4CAA4CL,wFAGbC,kBAC/BC,iNAMLA,uDAIAC,EAAOvB,OAAS,EACZuB,EACGP,MAAM,EAAG,GACTU,OAAO,CAAC,CAAEC,KAAM,WAChBR,KAAIS,GAASA,EAAMD,OACnBE,KAAK,MACRN,EAAOJ,KAAIS,GAASA,EAAMD,OAAME,KAAK,oBAErCL,EAAaR,MAAM,EAAG,mCACJS,EAAaK,QAAQ,iDAK9CD,KAAK,G,CAlCiCE,CAAoBhB,G,EA1B/D,EAAAiB,EAAAC,oB,sBCAA,MAAMC,EAAW3C,SAASC,cAAc,UAClC2C,EAAa5C,SAASC,cAAc,YAE1C0C,EAASE,UAAUC,IAAI,iBACvB5C,EAAgB,SAChBkB,EAAY,EAAG,SAEfwB,EAAWG,iBAAiB,SAG5B,WACIH,EAAWC,UAAUC,IAAI,iBACzBH,EAASE,UAAUG,OAAO,iBAC1B9C,EAAgB,WAChBkB,EAAY,EAAG,U,IANnBuB,EAASI,iBAAiB,SAS1B,WACIJ,EAASE,UAAUC,IAAI,iBACvBF,EAAWC,UAAUG,OAAO,iBAC5B9C,EAAgB,SAChBkB,EAAY,EAAG,Q","sources":["src/js/my-library-render-storage.js","src/init-my-library.js"],"sourcesContent":["import Pagination from 'tui-pagination';\nimport { toggleLightTheme } from './day-night-theme';\n\nconst divQueue = document.querySelector('.movies__list');\n\ntoggleLightTheme();\n\nexport function myLibPagination(localStorKey) {\n  if (!JSON.parse(localStorage.getItem(localStorKey))) return;\n  let queueTotalResults = JSON.parse(localStorage.getItem(localStorKey)).length;\n  const pagination = new Pagination(document.getElementById('pagination'), {\n    totalItems: queueTotalResults,\n    itemsPerPage: 18,\n    visiblePages: 5,\n    centerAlign: true,\n  });\n\n  if (queueTotalResults <= 18) return pagination.off;\n\n  pagination.on('afterMove', function (eventData) {\n    myLibRender(eventData.page, localStorKey);\n    localStorage.setItem('current_page', pagination.getCurrentPage());\n  });\n}\n\nexport function myLibRender(page, localStorKey) {\n  const data = JSON.parse(localStorage.getItem(localStorKey)).slice(\n    page * 18 - 18,\n    page * 18\n  );\n  divQueue.innerHTML = '';\n  divQueue.insertAdjacentHTML('beforeend', renderMarkupStorage(data));\n}\n\nfunction renderMarkupStorage(data) {\n  return data\n    .map(({ id, poster_path, title, genres, release_date, vote_average }) => {\n      return `<div class='movie-card js-item' data-id='${id}'>\n    <img\n      class='movie-poster'\n      src='https://image.tmdb.org/t/p/w500${poster_path}'\n      alt='${title}'\n      onerror=\"this.onerror=null;this.src='https://sd.keepcalms.com/i-w600/keep-calm-poster-not-found.jpg';\"\n      loading='lazy'\n    />\n    <div class='info'>\n      <h2 class='movie-title'>\n      ${title}\n      </h2>\n      <p class='movie-info'>\n      ${\n        genres.length > 3\n          ? genres\n              .slice(0, 2)\n              .concat([{ name: 'Other' }])\n              .map(genre => genre.name)\n              .join(', ')\n          : genres.map(genre => genre.name).join(', ')\n      }\n        | ${release_date.slice(0, 4)}\n        <span class='vote'> ${vote_average.toFixed(1)} </span>\n      </p>\n    </div>\n  </div>`;\n    })\n    .join('');\n}\n","import { myLibPagination } from './js/my-library-render-storage';\nimport { myLibRender } from './js/my-library-render-storage';\nimport './js/modal-film';\nimport './js/day-night-theme';\n\nconst btnQueue = document.querySelector('.queue');\nconst btnWatched = document.querySelector('.watched');\n\nbtnQueue.classList.add('btn-is-active');\nmyLibPagination('Queue');\nmyLibRender(1, 'Queue');\n\nbtnWatched.addEventListener('click', onbtnWatchedClick)\nbtnQueue.addEventListener('click', onbtnQueueClick)\n\nfunction onbtnWatchedClick () {\n    btnWatched.classList.add('btn-is-active');\n    btnQueue.classList.remove('btn-is-active');\n    myLibPagination('Watched');\n    myLibRender(1, 'Watched');\n  }\n\nfunction onbtnQueueClick () {\n    btnQueue.classList.add('btn-is-active');\n    btnWatched.classList.remove('btn-is-active');\n    myLibPagination('Queue');\n    myLibRender(1, 'Queue');\n  }"],"names":["$fb9GJ","parcelRequire","$3be333875d4b97d2$var$divQueue","document","querySelector","$3be333875d4b97d2$export$427396420f21f8a5","localStorKey","JSON","parse","localStorage","getItem","queueTotalResults","length","pagination","$parcel$interopDefault","getElementById","totalItems","itemsPerPage","visiblePages","centerAlign","off","on","eventData","$3be333875d4b97d2$export$687dafcb619d224d","page","setItem","getCurrentPage","data","slice","innerHTML","insertAdjacentHTML","map","id","poster_path","title","genres","release_date","vote_average","concat","name","genre","join","toFixed","$3be333875d4b97d2$var$renderMarkupStorage","$hhrZF","toggleLightTheme","$32c5bfb94090bc60$var$btnQueue","$32c5bfb94090bc60$var$btnWatched","classList","add","addEventListener","remove"],"version":3,"file":"my-library.d8a33070.js.map"}